{ 
  "model_nature" : "Classification",
  "model_name" : "FARAZ_Model_3dresnet",
  "is_3d": true,
  "isDepthFirst": true,
  "batch_dim_present": false,
  "default" : true,
  "dataset" : "FARAZ_IXI",
  "test_run" : "final_test",
  "resize" : 120,
  "centre_crop" : 120,
  "mean_vec" : [0.485, 0.456, 0.406],
  "std_vec" :  [0.229, 0.224, 0.225],
  "patch_overlap": 6,
  "_comment": "If you dont want to use patcher mention patch_size as -1",
  "patch_size": -1,
  "log_level" : "INFO",
  "output_path" : "/project/ardas/results",
  "amp_enbled" : true,
  "share_gpu_threads": 2,
  "timeout_enabled": true,
  "_comment": "set time in seconds",
  "timeout_time": 1800,
  "methods" : [   
                     { "method_name" : "captum_Saliency",  
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "positive",
                       "show_colorbar": true,
                       "title" : "Saliency heat map",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"abs": false, "nt_type":  "smoothgrad", "n_samples" :  10, "affine_size": 4}
                     },

                     { "method_name" : "captum_Feature_Ablation",  
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "all",
                       "show_colorbar": true,
                       "title" : "Feature ablation",
                       "device_id" : "cuda:6",
                       "patch_required": false,
                       "use": false,
                       "keywords": {"perturbations_per_eval": 2,"nt_type":  "smoothgrad", "n_samples" :  2, "affine_size": 4}
                     },
                     { "method_name" : "captum_Integrated_Gradients",  
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "all",
                       "show_colorbar": true,
                       "title" : "Signed Gradient Magnitudes",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"nt_type":  "smoothgrad", "n_samples" :  2, "affine_size": 4}
                     },
                     { "method_name" : "captum_occlusion",
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "all",
                       "show_colorbar": true,
                       "title" : "Occlusion sensitivity heat map",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"sliding_window_shapes": "1,11,11,11" ,"strides": 3, "nt_type":  "smoothgrad", "n_samples" :  2, "affine_size": 4 }
                     },
                     { "method_name" : "captum_guided_backprop",
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "positive",
                       "show_colorbar": true,
                       "title" : "Guided back propagation heat map",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"nt_type":  "smoothgrad", "n_samples" :  10, "affine_size": 4}
                     },
                     { "method_name" : "captum_deep_lift",
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "all",
                       "show_colorbar": true,
                       "title" : "Deep Lift heat map",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"nt_type":  "smoothgrad", "n_samples" :  2, "affine_size": 4}
                     },
                     { "method_name" : "captum_deconvolution",
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "all",
                       "show_colorbar": true,
                       "title" : "Deconvolution heat map",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"nt_type":  "smoothgrad", "n_samples" :  5,"affine_size": 4}
                     },
                     { "method_name" : "captum_guided_grad_cam",
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "all",
                       "show_colorbar": true,
                       "title" : "Guided grad cam heat map",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer": "layer4","nt_type":  "smoothgrad", "n_samples" :  5, "affine_size": 4}
                     },
                     { "method_name" : "captum_layer_activaltion",
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": false,
                       "title" : "Layer activation maps layer4",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer": "stem","neuron_start":  0, "neuron_end" :  5, "affine_size": 4}
                     },
                     { "method_name" : "cnn_vis_guided_backprop",
                       "library" : "CNN Visualization",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": false,
                       "title" : "Guided backpropagation (CNN Visualization)",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"firstLayer": "","affine_size": 4}
                     },
                     { "method_name" : "cnn_vis_integrated_grad",
                       "library" : "CNN Visualization",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": false,
                       "title" : "Integrated Gradient (CNN Visualization)",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {
                         "n_samples": 2, "firstLayer": "","affine_size": 4
                       }
                     },
                     { "method_name" : "cnn_vis_guided_grad_cam",
                       "library" : "CNN Visualization",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": false,
                       "title" : "Guided Grad cam for Conv5 (CNN Visualization)",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer": "layer4", "firstLayer": "","affine_size": 4}
                     },
                     { "method_name" : "cnn_vis_score_cam",
                       "library" : "CNN Visualization",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": false,
                       "title" : "Score cam for layer 4 (CNN Visualization)",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer": "layer4", "affine_size": 4}
                     },
                     { "method_name" : "captum_layer_conductance",
                       "_comment" : "If object has no attribute '_non_persistent_buffers_set' issue occurs, run with single device",
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "positive",
                       "show_colorbar": true,
                       "title" : "Layer conductance for layer 4",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer": "layer4","device_ids": [6, 5], "affine_size": 4}
                     },
                     { "method_name" : "cnn_vis_vanilla_backprop",
                       "library" : "CNN Visualization",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": false,
                       "title" : "Vanilla backpropagation (CNN Visualization)",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"firstLayer":"","affine_size": 4}
                     },
                     { "method_name" : "cnn_vis_grad_cam",
                       "library" : "CNN Visualization",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": false,
                       "title" : "Grad cam for Conv 5 (CNN Visualization)",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer": "layer4", "affine_size": 4 }
                     },
                     { "method_name" : "cnn_vis_grad_times_image",
                       "library" : "CNN Visualization",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": false,
                       "title" : "Grad Times Image (CNN Visualization)",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"firstLayer":"","affine_size": 4}
                     },
                     { "method_name" : "captum_layer_grad_shap",
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "positive",
                       "show_colorbar": true,
                       "title" : "Layer gradient shap for layer 4",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer": "layer4", "attribute_to_layer_input": true ,  "affine_size": 4}
                     },
                     { "method_name" : "torchray_excitation_backprop",
                       "library" : "torchray",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": true,
                       "title" : "Excitation Backpropagation for layer3",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer": "stem", "affine_size": 4}
                     },
                     { "method_name" : "torchray_contrast_excitation_backprop",
                       "library" : "torchray",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": true,
                       "title" : "Contrastive excitation backpropagation for layer 3",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer": "layer3", "contrast_layer":  "stem", "classifier_layer": "fc[1]", "affine_size": 4}
                     },
                     { "method_name" : "captum_gradient_shap",
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "positive",
                       "show_colorbar": true,
                       "title" : "Gradient Shap",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"n_samples" :  5, "stdiv": 1.0, "affine_size": 4 }
                     },
                     { "method_name" : "captum_internal_influence",
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "all",
                       "show_colorbar": true,
                       "title" : "Internal influence for layer 4",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer": "layer4", "device_ids": [6, 5, 4,3],"affine_size": 4}
                     },
                     { "method_name" : "captum_input_x_gradient",
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "positive",
                       "show_colorbar": true,
                       "title" : "Input X gradient",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false ,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"affine_size": 4}
                     },
                     { "method_name" : "captum_deep_lift_shap",
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "all",
                       "show_colorbar": true,
                       "title" : "Deep lift shap",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"affine_size": 4}
                     },
                     { "method_name" : "lucent_render_vis",
                       "library" : "lucent",
                       "_comment": ["For lucent library methods, multi-label layers should be joined by '_' instad on '.' ",
                                      "Like to access CONV block inside Block1 mention, Block1_conv, also run it on cuda 0"],
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": false,
                       "title" : "Lucent visualization",
                       "device_id" : "cuda:0",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer": "fc_1:0", "affine_size": 4, "shape": [120,120,78]}
                     },
                     { "method_name" : "captum_LayerGradientXActivation",
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "all",
                       "show_colorbar": false,
                       "title" : "Layer Gradient XActivation",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer": "layer3", "affine_size": 4}
                     },
                     { "method_name" : "captum_LayerDeepLift",
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "all",
                       "show_colorbar": false,
                       "title" : "Layer Deep Lift",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer": "layer1","attribute_to_layer_input": true, "affine_size": 4}
                     },
                     { "method_name" : "captum_LayerGradCam",
                       "library" : "captum",
                       "inpt_transform_req" : false,
                       "visualize_method" : "heat_map",
                       "sign": "all",
                       "show_colorbar": true,
                       "title" : "Layer Grad Cam",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer": "layer1", "affine_size": 4}
                     },
                     { "method_name" : "torchray_Deconv",
                       "library" : "torchray",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": true,
                       "title" : "Deconvnet",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"affine_size": 4}
                     },
                     { "method_name" : "torchray_Gradcam",
                       "library" : "torchray",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": true,
                       "title" : "Gradcam for layer 1",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer" :  "layer1", "affine_size": 4}
                     },
                     { "method_name" : "torchray_Gradient",
                       "library" : "torchray",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": true,
                       "title" : "Torchray Gradient",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"affine_size": 4}
                     },
                     { "method_name" : "torchray_Guidedbackprop",
                       "library" : "torchray",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": true,
                       "title" : "guided Back Propagation",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"affine_size": 4}
                     },
                     { "method_name" : "torchray_Linearapprox",
                       "library" : "torchray",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": true,
                       "title" : "Linear Approx for Layer 4",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer" :  "layer2","affine_size": 4}
                     },
                     { "method_name" : "cnn_vis_layer_activation_guided_backprop",
                       "library" : "CNN Visualization",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": false,
                       "title" : "Layer Activation with Guided backpropagation",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer" :  "layer2", "filter_pos" :  5, "firstLayer":"stem[0]", "affine_size": 4}
                     },
                     { "method_name" : "cnn_vis_layer_visualization",
                       "library" : "CNN Visualization",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": false,
                       "title" : "Layer visualization (CNN Vis)",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer" :  "layer1", "filter_pos" :  5, "affine_size": 4}
                     },
                     { "method_name" : "cnn_vis_DeepDream",
                       "library" : "CNN Visualization",
                       "inpt_transform_req" : false,
                       "visualize_method" : "",
                       "sign": "",
                       "show_colorbar": false,
                       "title" : "Deep Dream (CNN Vis)",
                       "device_id" : "cuda:6",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"layer" :  "fc", "filter_pos" :  0, "init_color_low" :  180, "init_color_high" :  200, "shape":  [1,1,78, 120, 120], "affine_size": 4}
                     },
                     { "method_name" : "captum_ShapleyValueSampling",
                       "library" : "captum",
                       "inpt_transform_req" : true,
                       "visualize_method" : "heat_map",
                       "sign": "all",
                       "show_colorbar": true,
                       "title" : "Shapley Value Sampling",
                       "device_id" : "cuda:0",
                       "share_gpu": true,
                       "patch_required": false,
                       "use": false,
                       "uncertainity_metrics": false,
                       "uncertainity_cascading": 0,
                       "keywords": {"n_samples" :  10}
                     }
                 ],
  "explain_methods" : [
                     { "method_name" : "lime_segmentation",
                       "library" : "lime",
                       "inpt_transform_req" : false,
                       "device_id" : "cuda:0",
                       "use": false,
                       "keywords": {"top_labels": 10, "num_samples":  1, "num_features" :  5, "depth":  32}
                     }

  ]
}